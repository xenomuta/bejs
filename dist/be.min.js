var BeJS,be,__slice=[].slice;BeJS=function(){function BeJS(e,t){var n,r,i,s;e==null&&(e=!1),t==null&&(t=!1);if(e){s=[String,Number];for(r=0,i=s.length;r<i;r++)n=s[r],this.monkeyPatch(n)}this.environment="browser",BeJS.quiet=!t,this.environment=typeof process!="undefined"&&process!==null&&process.title==="node"?"node":"browser"}return BeJS.name="BeJS",BeJS.injectionRegExp=new RegExp("(['\"<>\\$`\\[\\]()\\\\\\;%\\+])","g"),BeJS.version="0.1.0",BeJS.quiet=!0,BeJS._withoutLast=function(){var e;return e=1<=arguments.length?__slice.call(arguments,0):[],e.slice(0,e.length-1)},BeJS._last=function(){var e;return e=1<=arguments.length?__slice.call(arguments,0):[],e.slice(-1)},BeJS._isArray=function(e){return toString.call(e)==="[object Array]"},BeJS._isFunction=function(e){return toString.call(e)==="[object Function]"},BeJS._isDate=function(e){return toString.call(e)==="[object Date]"},BeJS.prototype.verbose=function(){return BeJS.quiet=!1},BeJS.prototype.quiet=function(){return BeJS.quiet=!0},BeJS.prototype.twoDecimals=function(e){return e===null?0:Math.round(e*100)/100},BeJS.prototype.between=function(){var e;return e=1<=arguments.length?__slice.call(arguments,0):[],e===null||e[0]===null?0:e.length<3?!1:e[0]>=e[1]&&e[0]<=e[2]},BeJS.prototype.percentOf=function(){var e;return e=1<=arguments.length?__slice.call(arguments,0):[],e===null||e[0]===null?0:e.length<2?0:e[0]/e[1]*100},BeJS.prototype.shownAsTime=function(e){var t,n,r,i;return e===null?0:(i="00:00:00",e===0||typeof e===!1?i:(r=Math.floor(e/1e3%60),n=Math.floor(e/1e3/60%60),t=Math.floor(e/1e3/60/60),isNaN(r)||isNaN(n)||isNaN(t)?i:""+(t>9?"":"0")+t+":"+(n>9?"":"0")+n+":"+(r>9?"":"0")+r))},BeJS.prototype.plainText=function(e){return e===null?"":e.replace(/<br[^>]*>/ig,"\n").replace(/<[^>]*>/g,"")},BeJS.prototype.sanitized=function(e){return e===null?"":e.toString().replace(BeJS.injectionRegExp,"")},BeJS.prototype.safe=function(e){return e===null?"":e.toString().replace(BeJS.injectionRegExp,"\\$1")},BeJS.prototype.stripped=function(e){return e===null?"":e.toString().replace(/(^ +| +$)/g,"")},BeJS.prototype.slugified=function(e){return e===null?"":this.stripped(e.toString().toLowerCase()).replace(/\W+/g,"_").replace(/_+$/g,"")},BeJS.prototype.capitalized=function(e){return e===null?"":e.toString().toLowerCase().replace(/(\b[a-z])/g,"_BeJS_CAP_$1").split(/_BeJS_CAP_/).map(function(e){return(e[0]||"").toUpperCase()+e.substring(1)}).join("")},BeJS.prototype.sentence=function(){var e;return e=1<=arguments.length?__slice.call(arguments,0):[],e===null||e[0]===null?"":(BeJS._isArray.apply(this,e)&&(e=e[0]),e.length===1?e[0]:[BeJS._withoutLast.apply(this,e).join(", "),BeJS._last.apply(this,e)].join(" and "))},BeJS.prototype.monkeyPatched=function(clazz){var k,v;if(clazz===null)return null;if(["String","Number"].indexOf(clazz.name)===-1)throw new Error("can only patch String and Number");for(k in be)v=be[k],typeof v=="function"&&clazz.name.toLowerCase()===typeof v(null)&&(BeJS.quiet||console.log(">>> patching '",k,"' function into",clazz.name,"class"),eval(clazz.name+(".prototype."+k+"=function(){var _=this;_=[JSON.stringify(this)];for(var i in arguments)_.push(arguments[i]);return eval(\"be['"+k+'\']("+_.join(",")+")")};')));if(this.be_quiet)return;return clazz.name+" patched!"},BeJS}(),be=new BeJS,be.environment==="node"?module.exports=be:window.be=be